# 模糊控制系统设计

## 结构设计

模糊控制器的结构要素

- 输入输出变量
- 模糊化算法
- 模糊推理规则
- 精准化计算方法

### 控制器输入输出变量 (单输入 - 单输出)

控制量都只有一个，对应系统的输出误差也只有一个

- 一维模糊控制器
  - 输入为系统的误差
- 二维模糊控制器
  - 输入为误差和误差变化
- 多维模糊控制器
  - 输入变量有多个

# 模糊控制器的设计原理

- 定义输入输出变量
- 定义所以变量的模糊化条件
- 设计控制规则库
- 设计模糊推理结构
- 选择精确化策略的方法

## 定义输入输出变量

根据具体实际问题，可能是：
- 输入是期望与实际的误差
- 输出是控制量

## 定义所以变量的模糊化条件

1. 决定输入变量的测量范围
2. 输出变量的控制作用范围
3. 进一步确定每个变量的论域 (分级)
4. 然后再安排每个变量的语言值及其相对应的隶属度函数

## 设计控制规则库

### 所需规则的最大数目

$$
N=n_{out}*(n_{level})^{n_{in}}
$$

- $n_{out}$ 是输出变量的个数
- $n_{level}$ 输入与输出模糊划分的数目
- $n_{in}$ 输入变量的个数

一般建议规则数

$$
N=n_{out}*(n_{in}*(n_{level}-1)+1)
$$

## 设计模糊推理结构

1. 由计算机、单片机或专门的模糊推理硬件集成电路芯片来实现
2. 推理规则？

## 选择精确化策略的方法

- 精确化过程：
  - 是把模糊推理获得的**模糊输出量**转换为**确切的控制量**
- 精确化的方法：
  - 最大隶属度函数法
  - 重心法
  - 加权平均法

## 常规设计方法 (查表法)

查表法是通过离线计算取得一个**模糊控制表**，并将其控制表**存放在计算机内存**中

根据**采样**得到的误差和误差变化的量化值来找到当前时刻的控制输出量化值，**将此量化值乘以比例因子得到最终的输出控制量**

### 设计步骤

1. 确定模糊控制器的输入、输出变量
2. 确定各输入、输出变量的变化范围、量化等级和量化因子
3. 在各输入和输出语言变量的量化域内定义模糊子集
4. 模糊控制规则的确定
5. 求模糊控制表（最好取整）

# 模糊控制器设计实例

## 空调温度控制 (上课练习了)

一维模糊控制器

## 流量控制

二维模糊控制器 (误差 e 和误差变化量 de)

输出控制量为阀门的开启程度

输入等级 5、输出等级 4

## 电机速度控制

# 模糊 PID 控制器的设计

## 模糊控制器和常规 PID 的混合结构

语言变量越多，分档越细，性能越好，模糊控制器的精度和跟踪性能越好，但同时，实时性越难以控制

### 方法一：分段控制

误差大时采用纯比例控制方式，当误差小于某一阀值时切换到模糊控制方式，当输入变量误差模糊值为零（ZE）时进入 PI 控制方式

难点在于：如何选择切换条件以满足平稳切换和不产生系统振荡现象

### 方法二：PID 控制器分解为模糊 PD 控制器和各种其它类型并联

1. 当被控过程的稳态增益已知或可以测量 $K_P$ ，模糊逻辑控制器的输出
2. $K_P$ 未知，则用积分代替
3. 积分增益模糊化：把积分增益模糊化
4. 模糊 PD 控制器与模糊 PI 控制器并联构成模糊 PID 调节器
5. 只考虑误差对模糊 PI 输出量有影响，二输入 - 输出规则库来控制，其中模糊 PI 控制器的规则形式为简易 PI 规则

## 常规 PID 参数的模糊自整定技术

1. 常规 PID 参数模糊自整定控制原理
2. 常规 PID 参数模糊自整定语言值
3. 常规 PID 参数模糊自整定控制规则

# SIMULINK 模糊控制器的实现

略
